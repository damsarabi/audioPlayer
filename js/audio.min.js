!function(e,t,a){var s=function(){for(var e=new RegExp("audio(.min)?.js.*"),t=document.getElementsByTagName("script"),a=0,s=t.length;s>a;a++){var n=t[a].getAttribute("src");if(e.test(n)){var r=n.split("/");return r.pop(),r.join("/")+"/"}}return""}();a[e]={instanceCount:0,instances:{},flashSource:'      <object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" id="$1" width="1" height="1" name="$1" style="position: absolute; left: -1px;">         <param name="movie" value="$2?playerInstance='+e+'.instances[\'$1\']&datetime=$3">         <param name="allowscriptaccess" value="always">         <embed name="$1" src="$2?playerInstance='+e+'.instances[\'$1\']&datetime=$3" width="1" height="1" allowscriptaccess="always">       </object>',settings:{autoplay:!1,loop:!1,preload:!0,imageLocation:s+"player-graphics.gif",retinaImageLocation:s+"player-graphics@2x.gif",swfLocation:s+"audiojs.swf",useFlash:function(){var e=document.createElement("audio");return!(e.canPlayType&&e.canPlayType("audio/mpeg;").replace(/no/,""))}(),hasFlash:function(){if(navigator.plugins&&navigator.plugins.length&&navigator.plugins["Shockwave Flash"])return!0;if(navigator.mimeTypes&&navigator.mimeTypes.length){var e=navigator.mimeTypes["application/x-shockwave-flash"];return e&&e.enabledPlugin}try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash");return!0}catch(t){}return!1}(),createPlayer:{markup:'          <div class="play-pause">             <p class="play"></p>             <p class="pause"></p>             <p class="loading"></p>             <p class="error"></p>           </div>           <div class="scrubber">             <div class="progress"></div>             <div class="loaded"></div>           </div>           <div class="time">             <em class="played">00:00</em>/<strong class="duration">00:00</strong>           </div>           <input type="range" class="setVolume" id="rngVolume" min="0" max="1" step="0.01" value="1">          <div class="error-message"></div>',playPauseClass:"play-pause",scrubberClass:"scrubber",progressClass:"progress",loaderClass:"loaded",timeClass:"time",durationClass:"duration",playedClass:"played",setVolumeClass:"setVolume",errorMessageClass:"error-message",playingClass:"playing",loadingClass:"loading",errorClass:"error"},trackEnded:function(e){},flashError:function(){var t=this.settings.createPlayer,s=n(t.errorMessageClass,this.wrapper),r='Missing <a href="http://get.adobe.com/flashplayer/">flash player</a> plugin.';this.mp3&&(r+=' <a href="'+this.mp3+'">Download audio file</a>.'),a[e].helpers.removeClass(this.wrapper,t.loadingClass),a[e].helpers.addClass(this.wrapper,t.errorClass),s.innerHTML=r},loadError:function(t){var s=this.settings.createPlayer,r=n(s.errorMessageClass,this.wrapper);a[e].helpers.removeClass(this.wrapper,s.loadingClass),a[e].helpers.addClass(this.wrapper,s.errorClass),r.innerHTML='Error loading: "'+this.mp3+'"'},init:function(){var t=this.settings.createPlayer;a[e].helpers.addClass(this.wrapper,t.loadingClass)},loadStarted:function(){var t=this.settings.createPlayer,s=n(t.durationClass,this.wrapper),r=Math.floor(this.duration/60),i=Math.floor(this.duration%60);a[e].helpers.removeClass(this.wrapper,t.loadingClass),s.innerHTML=(10>r?"0":"")+r+":"+(10>i?"0":"")+i},loadProgress:function(e){var t=this.settings.createPlayer,a=n(t.loaderClass,this.wrapper);a.style.width=Math.round(100*e)+"%"},playPause:function(){this.playing?this.settings.play():this.settings.pause()},play:function(){var t=this.settings.createPlayer;a[e].helpers.removeClass(this.wrapper,t.errorClass),a[e].helpers.addClass(this.wrapper,t.playingClass)},pause:function(){var t=this.settings.createPlayer;a[e].helpers.removeClass(this.wrapper,t.playingClass)},updatePlayhead:function(e){var t=this.settings.createPlayer,a=n(t.progressClass,this.wrapper);a.style.width=Math.round(100*e)+"%";var s=n(t.playedClass,this.wrapper),r=this.duration*e,i=Math.floor(r/60),l=Math.floor(r%60);s.innerHTML=(10>i?"0":"")+i+":"+(10>l?"0":"")+l}},create:function(e,t){var t=t||{};return e.length?this.createAll(t,e):this.newInstance(e,t)},createAll:function(e,t){var a=t||document.getElementsByTagName("audio"),s=[];e=e||{};for(var n=0,r=a.length;r>n;n++)(" "+a[n].parentNode.className+" ").replace(/[\n\t]/g," ").indexOf(" audiojs ")>-1||s.push(this.newInstance(a[n],e));return s},newInstance:function(e,s){var e=e,n=this.helpers.clone(this.settings),r="audiojs"+this.instanceCount,i="audiojs_wrapper"+this.instanceCount;this.instanceCount++;null!=e.getAttribute("autoplay")&&(n.autoplay=!0),null!=e.getAttribute("loop")&&(n.loop=!0),"none"==e.getAttribute("preload")&&(n.preload=!1),s&&this.helpers.merge(n,s),n.createPlayer.markup?e=this.createPlayer(e,n.createPlayer,i):e.parentNode.setAttribute("id",i);var l=new a[t](e,n);return n.css&&this.helpers.injectCss(l,n.css),n.useFlash&&n.hasFlash?(this.injectFlash(l,r),this.attachFlashEvents(l.wrapper,l)):n.useFlash&&!n.hasFlash&&n.flashError.apply(l),(!n.useFlash||n.useFlash&&n.hasFlash)&&this.attachEvents(l.wrapper,l),this.instances[r]=l,l},createPlayer:function(e,t,a){var s=document.createElement("div"),n=e.cloneNode(!0);return s.setAttribute("class","audiojs"),s.setAttribute("className","audiojs"),s.setAttribute("id",a),n.outerHTML&&!document.createElement("audio").canPlayType?(n=this.helpers.cloneHtml5Node(e),s.innerHTML=t.markup,s.appendChild(n),e.outerHTML=s.outerHTML,s=document.getElementById(a)):(s.appendChild(n),s.innerHTML=s.innerHTML+t.markup,e.parentNode.replaceChild(s,e)),s.getElementsByTagName("audio")[0]},attachEvents:function(t,s){if(s.settings.createPlayer){var r=s.settings.createPlayer,i=n(r.playPauseClass,t),l=n(r.scrubberClass,t),o=n(r.setVolumeClass,t);a[e].events.addListener(i,"click",function(e){s.playPause.apply(s)}),a[e].events.addListener(o,"click",function(e){s.setVolume(this.value)}),a[e].events.addListener(l,"click",function(e){var t=e.clientX-this.getBoundingClientRect().left;s.skipTo(t/l.offsetWidth)}),s.settings.useFlash||(a[e].events.trackLoadProgress(s),a[e].events.addListener(s.element,"timeupdate",function(e){s.updatePlayhead.apply(s)}),a[e].events.addListener(s.element,"ended",function(e){s.trackEnded.apply(s)}),a[e].events.addListener(s.source,"error",function(e){clearInterval(s.readyTimer),clearInterval(s.loadTimer),s.settings.loadError.apply(s)}))}},attachFlashEvents:function(e,t){t.swfReady=!1,t.load=function(e){t.mp3=e,t.swfReady&&t.element.load(e)},t.loadProgress=function(e,a){t.loadedPercent=e,t.duration=a,t.settings.loadStarted.apply(t),t.settings.loadProgress.apply(t,[e])},t.skipTo=function(e){e>t.loadedPercent||(t.updatePlayhead.call(t,[e]),t.element.skipTo(e))},t.updatePlayhead=function(e){t.settings.updatePlayhead.apply(t,[e])},t.play=function(){t.settings.preload||(t.settings.preload=!0,t.element.init(t.mp3)),t.playing=!0,t.element.pplay(),t.settings.play.apply(t)},t.pause=function(){t.playing=!1,t.element.ppause(),t.settings.pause.apply(t)},t.setVolume=function(e){t.element.setVolume(e)},t.loadStarted=function(){t.swfReady=!0,t.settings.preload&&t.element.init(t.mp3),t.settings.autoplay&&t.play.apply(t)}},injectFlash:function(e,t){var a=this.flashSource.replace(/\$1/g,t);a=a.replace(/\$2/g,e.settings.swfLocation),a=a.replace(/\$3/g,+new Date+Math.random());var s=e.wrapper.innerHTML,n=document.createElement("div");n.innerHTML=a+s,e.wrapper.innerHTML=n.innerHTML,e.element=this.helpers.getSwf(t)},helpers:{merge:function(e,t){for(attr in t)(e.hasOwnProperty(attr)||t.hasOwnProperty(attr))&&(e[attr]=t[attr])},clone:function(e){if(null==e||"object"!=typeof e)return e;var t=new e.constructor;for(var a in e)t[a]=arguments.callee(e[a]);return t},addClass:function(e,t){var a=new RegExp("(\\s|^)"+t+"(\\s|$)");a.test(e.className)||(e.className+=" "+t)},removeClass:function(e,t){var a=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(a," ")},injectCss:function(e,t){var a="",s=document.getElementsByTagName("style"),n=t.replace(/\$1/g,e.settings.imageLocation);n=n.replace(/\$2/g,e.settings.retinaImageLocation);for(var r=0,i=s.length;i>r;r++){var l=s[r].getAttribute("title");if(l&&~l.indexOf("audiojs")){if(p=s[r],p.innerHTML===n)return;a=p.innerHTML;break}}var o=document.getElementsByTagName("head")[0],d=o.firstChild,p=document.createElement("style");o&&(p.setAttribute("type","text/css"),p.setAttribute("title","audiojs"),p.styleSheet?p.styleSheet.cssText=a+n:p.appendChild(document.createTextNode(a+n)),d?o.insertBefore(p,d):o.appendChild(p))},cloneHtml5Node:function(e){var t=document.createDocumentFragment(),a=t.createElement?t:document;a.createElement("audio");var s=a.createElement("div");return t.appendChild(s),s.innerHTML=e.outerHTML,s.firstChild},getSwf:function(e){var t=document[e]||window[e];return t.length>1?t[t.length-1]:t}},events:{memoryLeaking:!1,listeners:[],addListener:function(t,s,n){t.addEventListener?t.addEventListener(s,n,!1):t.attachEvent&&(this.listeners.push(t),this.memoryLeaking||(window.attachEvent("onunload",function(){if(this.listeners)for(var t=0,s=this.listeners.length;s>t;t++)a[e].events.purge(this.listeners[t])}),this.memoryLeaking=!0),t.attachEvent("on"+s,function(){n.call(t,window.event)}))},trackLoadProgress:function(e){if(e.settings.preload){var t,a,e=e,s=/(ipod|iphone|ipad)/i.test(navigator.userAgent);t=setInterval(function(){e.element.readyState>-1&&(s||e.init.apply(e)),e.element.readyState>1&&(e.settings.autoplay&&e.play.apply(e),clearInterval(t),a=setInterval(function(){e.loadProgress.apply(e),e.loadedPercent>=1&&clearInterval(a)},200))},200),e.readyTimer=t,e.loadTimer=a}},purge:function(e){var t,a=e.attributes;if(a)for(t=0;t<a.length;t+=1)"function"==typeof e[a[t].name]&&(e[a[t].name]=null);if(a=e.childNodes)for(t=0;t<a.length;t+=1)purge(e.childNodes[t])},ready:function(){return function(e){var t=window,a=!1,s=!0,n=t.document,r=n.documentElement,i=n.addEventListener?"addEventListener":"attachEvent",l=n.addEventListener?"removeEventListener":"detachEvent",o=n.addEventListener?"":"on",d=function(s){("readystatechange"!=s.type||"complete"==n.readyState)&&(("load"==s.type?t:n)[l](o+s.type,d,!1),!a&&(a=!0)&&e.call(t,s.type||s))},p=function(){try{r.doScroll("left")}catch(e){return void setTimeout(p,50)}d("poll")};if("complete"==n.readyState)e.call(t,"lazy");else{if(n.createEventObject&&r.doScroll){try{s=!t.frameElement}catch(c){}s&&p()}n[i](o+"DOMContentLoaded",d,!1),n[i](o+"readystatechange",d,!1),t[i](o+"load",d,!1)}}}()}},a[t]=function(e,t){this.element=e,this.wrapper=e.parentNode,this.source=e.getElementsByTagName("source")[0]||e,this.mp3=function(e){var t=e.getElementsByTagName("source")[0];return e.getAttribute("src")||(t?t.getAttribute("src"):null)}(e),this.settings=t,this.loadStartedCalled=!1,this.loadedPercent=0,this.duration=1,this.playing=!1},a[t].prototype={updatePlayhead:function(){var e=this.element.currentTime/this.duration;this.settings.updatePlayhead.apply(this,[e])},skipTo:function(e){e>this.loadedPercent||(this.element.currentTime=this.duration*e,this.updatePlayhead())},load:function(t){this.loadStartedCalled=!1,this.source.setAttribute("src",t),this.element.load(),this.mp3=t,a[e].events.trackLoadProgress(this)},loadError:function(){this.settings.loadError.apply(this)},init:function(){this.settings.init.apply(this)},loadStarted:function(){return this.element.duration?(this.duration=this.element.duration,this.updatePlayhead(),void this.settings.loadStarted.apply(this)):!1},loadProgress:function(){if(null!=this.element.buffered&&this.element.buffered.length){this.loadStartedCalled||(this.loadStartedCalled=this.loadStarted());var e=this.element.buffered.end(this.element.buffered.length-1);this.loadedPercent=e/this.duration,this.settings.loadProgress.apply(this,[this.loadedPercent])}},playPause:function(){this.playing?this.pause():this.play()},play:function(){var t=/(ipod|iphone|ipad)/i.test(navigator.userAgent);t&&0==this.element.readyState&&this.init.apply(this),this.settings.preload||(this.settings.preload=!0,this.element.setAttribute("preload","auto"),a[e].events.trackLoadProgress(this)),this.playing=!0,this.element.play(),this.settings.play.apply(this)},pause:function(){this.playing=!1,this.element.pause(),this.settings.pause.apply(this)},setVolume:function(e){this.element.volume=e},trackEnded:function(e){this.skipTo.apply(this,[0]),this.settings.loop||this.pause.apply(this),this.settings.trackEnded.apply(this)}};var n=function(e,t){var a=[];if(t=t||document,t.getElementsByClassName)a=t.getElementsByClassName(e);else{var s,n,r=t.getElementsByTagName("*"),i=new RegExp("(^|\\s)"+e+"(\\s|$)");for(s=0,n=r.length;n>s;s++)i.test(r[s].className)&&a.push(r[s])}return a.length>1?a:a[0]}}("audiojs","audiojsInstance",this);